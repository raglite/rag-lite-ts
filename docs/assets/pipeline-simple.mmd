%%{init: {'theme':'base', 'themeVariables': { 'fontSize':'16px'}}}%%

flowchart TB
    Start["ðŸ“¥ Your Content
    Text â€¢ Images â€¢ Mixed"]
    
    Start --> Chameleon["ðŸ¦Ž CHAMELEON CORE
    Auto-detect mode"]
    
    Chameleon -->|Text only| TextMode["ðŸ“ TEXT MODE
    Sentence Transformers
    384D / 768D vectors"]
    Chameleon -->|Images/Mixed| MultiMode["ðŸ–¼ï¸ MULTIMODAL MODE
    CLIP Embeddings
    512D unified space"]
    
    TextMode --> Process1["ðŸ§¹ Preprocess
    âœ‚ï¸ Chunk
    ðŸ§  Embed"]
    MultiMode --> Process2["ðŸ”€ Route
    ðŸ§  CLIP Encode
    ðŸ”— Unify"]
    
    Process1 --> Storage["ðŸ’¾ STORAGE
    HNSW Index + SQLite"]
    Process2 --> Storage
    
    Storage --> Search["ðŸ”Ž SEARCH
    Auto-detect mode
    Vector similarity
    Reranking"]
    
    Search --> Results["ðŸŽ¯ RESULTS
    âœ¨ Semantic matches
    ðŸ”„ Cross-modal capable
    ðŸ“¤ Format-adaptive"]
    
    style Start fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style Chameleon fill:#fff9c4,stroke:#f57f17,stroke-width:4px,color:#f57f17
    style TextMode fill:#e8eaf6,stroke:#3f51b5,stroke-width:2px
    style MultiMode fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    style Process1 fill:#e8eaf6,stroke:#3f51b5,stroke-width:2px
    style Process2 fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    style Storage fill:#e8f5e9,stroke:#388e3c,stroke-width:3px
    style Search fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style Results fill:#f3e5f5,stroke:#7b1fa2,stroke-width:3px
